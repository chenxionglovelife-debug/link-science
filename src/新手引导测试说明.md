# CodeQuest 新手引导功能测试说明

## 快速测试方法

### 方法一：清除 LocalStorage（推荐）
1. 打开浏览器开发者工具（F12）
2. 切换到 "Application" 或 "存储" 标签
3. 在左侧菜单找到 "Local Storage"
4. 删除 `userGuideCompleted` 键
5. 刷新页面，800ms 后自动显示引导

### 方法二：使用快捷键（最快）
1. 在首页按下 `Shift + G` 组合键
2. 引导立即重置并显示
3. 会有提示："引导已重置，按ESC可以跳过引导"

### 方法三：控制台命令
```javascript
// 在浏览器控制台执行以下命令
localStorage.removeItem('userGuideCompleted');
location.reload();
```

## 功能测试清单

### 基础功能测试
- [ ] 首次访问首页时，延迟 800ms 后自动显示引导
- [ ] 欢迎页正常显示，包含动画效果
- [ ] 点击"下一步"能正常切换到下一步
- [ ] 点击"跳过"能关闭引导
- [ ] 按 ESC 键能关闭引导
- [ ] 完成所有步骤后显示 toast 提示
- [ ] 完成后不再重复显示引导

### 视觉效果测试
- [ ] 遮罩层正确覆盖整个页面
- [ ] 高亮区域正确定位到目标元素
- [ ] 发光边框动画流畅运行
- [ ] 旋转光圈特效正常显示
- [ ] 提示框位置合理，未遮挡关键内容
- [ ] 进度指示器正确显示当前步骤
- [ ] 按钮颜色符合设计规范（主色 #1677FF）

### 各步骤定位测试

#### 步骤 1 - 欢迎页
- [ ] 居中显示
- [ ] 包含挥手emoji和欢迎文字
- [ ] 顶部有渐变背景

#### 步骤 2 - 实战舞台
- [ ] 同时高亮"赛事争锋"和"真题练级"两个卡片
- [ ] 提示框在高亮区域下方
- [ ] 文案："🎯 这是你的实战舞台！..."

#### 步骤 3 - 小链同学
- [ ] 高亮右上角"小链同学"卡片
- [ ] 提示框在高亮区域左侧
- [ ] 文案："🤖 这是小链同学——你的AI学习助理..."

#### 步骤 4 - 智能练习
- [ ] 同时高亮"Deep练习"和"通过率预测"
- [ ] 提示框在高亮区域左侧
- [ ] 文案："💡 这是基于你薄弱知识点生成..."

#### 步骤 5 - 攻克错题
- [ ] 高亮左侧菜单的"攻克错题"按钮
- [ ] 提示框在高亮区域右侧
- [ ] 文案："🔁 每次练习的错题会自动收录..."

#### 步骤 6 - 学习报告
- [ ] 高亮左侧菜单的"学习诊断"按钮
- [ ] 提示框在高亮区域右侧
- [ ] 文案："📊 系统会诊断你的学习情况..."

### 交互测试
- [ ] 键盘快捷键 Shift+G 重置引导
- [ ] ESC 键跳过引导
- [ ] 跳过后 localStorage 正确记录状态
- [ ] 完成后显示成功 toast
- [ ] 再次访问不会重复显示

### 兼容性测试
- [ ] 亮色主题下显示正常
- [ ] 暗色主题下显示正常
- [ ] 窗口大小调整时提示框位置合理
- [ ] 所有浏览器控制台无错误信息

### 边界情况测试
- [ ] 目标元素未找到时不崩溃
- [ ] 控制台显示警告信息（开发模式）
- [ ] 窗口尺寸过小时提示框不超出视口
- [ ] 快速连续点击"下一步"不出错

## 预期结果

### 正常流程
1. 首页加载后 800ms 自动显示欢迎页
2. 用户点击"下一步"，平滑切换到步骤 2
3. 依次引导用户了解 6 个核心功能
4. 最后一步点击"完成"，显示成功提示
5. 引导关闭，用户可正常使用网站
6. 状态持久化，下次访问不再显示

### 跳过流程
1. 任意步骤点击"跳过"或按 ESC
2. 引导立即关闭
3. 显示完成提示
4. 状态记录，不再重复显示

## 开发调试

### 查看控制台警告
如果某个步骤的目标元素未找到，控制台会显示：
```
[UserGuide] Element not found for selector: [data-guide="xxx"]
```

### 重置引导状态
```javascript
// 方法1：快捷键
Shift + G

// 方法2：控制台
localStorage.removeItem('userGuideCompleted');

// 方法3：完全清除
localStorage.clear();
```

### 查看当前状态
```javascript
// 检查引导是否已完成
localStorage.getItem('userGuideCompleted'); // "true" 或 null
```

## 常见问题

### Q: 引导不显示？
A: 检查 LocalStorage 中是否有 `userGuideCompleted` 键，删除后刷新页面

### Q: 某步骤高亮位置不对？
A: 检查对应页面元素是否有正确的 `data-guide` 属性

### Q: 提示框位置超出屏幕？
A: 已有边界检查，如遇此问题请记录窗口尺寸和步骤编号

### Q: 动画卡顿？
A: 检查是否有性能问题，确保浏览器支持 CSS backdrop-filter

### Q: 快捷键不生效？
A: 确保当前页面是首页（activeTab === 'home'）

## 版本信息
- 版本：B1.13.4
- 更新日期：2025-01-22
- 引导步骤数：6 步
- 支持快捷键：Shift+G（重置）、ESC（跳过）

---

**测试完成后请确认所有功能正常** ✅
